/* Layout Principal e Componentes (Estrutura consistente com as outras telas) */
.dashboard { min-height: 100vh; background-color: #f8fafc; display: flex; flex-direction: column; }
.header { background: white; padding: 1.5rem 2.4rem; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05); position: sticky; top: 0; z-index: 100; }
.headerLeft { display: flex; align-items: center; gap: 1.6rem; }
.menuToggle { background: none; border: none; font-size: 2.4rem; cursor: pointer; padding: 0.8rem; border-radius: 0.6rem; transition: background 0.3s ease; display: none; color: #458B00; }
.title { font-size: clamp(2rem, 4vw, 2.8rem); font-weight: 600; margin: 0; background: linear-gradient(135deg, #191970 0%, #458B00 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
.contentWrapper { display: flex; flex: 1; position: relative; }
.sidebar { width: 28rem; background: linear-gradient(180deg, #191970 0%, #0f1440 100%); color: #CDC1C5; display: flex; flex-direction: column; transition: transform 0.3s ease-in-out; box-shadow: 0.2rem 0 1rem rgba(0, 0, 0, 0.1); flex-shrink: 0; height: calc(100vh - 7.2rem); position: sticky; top: 7.2rem; overflow-y: auto; z-index: 90; }
.sidebarHeader { padding: 2rem; display: flex; justify-content: space-between; align-items: center; background: rgba(25, 25, 112, 0.95); position: sticky; top: 0; z-index: 10; }
.logoContainer { display: flex; align-items: center; gap: 1.2rem; }
.logoImage { height: 6rem; width: 6rem; border-radius: 5px; object-fit: cover; }
.logoText { font-size: 2rem; font-weight: 600; color: #fff; }
.sidebarClose { background: none; border: none; font-size: 2.8rem; color: #fff; cursor: pointer; border-radius: 0.6rem; padding: 0.4rem 0.8rem; display: none; }
.nav { flex: 1; padding: 1rem; }
.navSection { margin-bottom: 1.8rem; }
.navLabel { font-size: 1.3rem; color: #b0b0b0; margin: 1rem 0 0.6rem 1rem; text-transform: uppercase; letter-spacing: 0.5px; }
.navLink { display: flex; align-items: center; padding: 1.2rem 1.4rem; color: #CDC1C5; text-decoration: none; border-radius: 0.6rem; margin-bottom: 0.4rem; transition: all 0.3s ease; font-size: 1.5rem; gap: 1.2rem; }
.navLink:hover { background: rgba(69, 139, 0, 0.15); color: #fff; }
.navLink.active { background: linear-gradient(135deg, #458B00 0%, #2e7d32 100%); color: #fff; }
.navText { font-family: "Montserrat"; }

/* REESTRUTURADO: Conteúdo Principal e Formulário para consistência */
.mainContent { flex: 1; padding: 3.2rem; background: #f8fafc; overflow-y: auto; }
.formContainer { max-width: 96rem; margin: 0 auto; }
.formHeader { text-align: center; margin-bottom: 3.2rem; }
.formHeader h2 { font-size: clamp(2.4rem, 5vw, 3.2rem); font-weight: 700; margin: 0 0 0.8rem 0; color: #191970; }
.formHeader p { margin: 0; color: #64748b; font-size: 1.6rem; }
.form { background: white; border-radius: 1.2rem; padding: 3.2rem; box-shadow: 0 2px 8px rgba(0,0,0,0.04); border: 1px solid #e5e7eb; }
.formGrid { display: grid; grid-template-columns: 1fr 1fr; gap: 2.4rem 3.2rem; }
.sectionTitle { font-size: clamp(1.8rem, 3vw, 2rem); font-weight: 600; color: #191970; margin: 0 0 1.2rem 0; padding-bottom: 1.2rem; border-bottom: 1px solid #e5e7eb; grid-column: 1 / -1; }
.formRow { display: grid; grid-template-columns: 1fr 1fr; gap: 2.4rem; }
.formControl { position: relative; }
.inputLabel { display: block; font-size: 1.4rem; font-weight: 600; color: #374151; margin-bottom: 0.8rem; }
.divInput { position: relative; }
.modernInput, .modernTextarea, .modernSelect { width: 100%; padding: 1.2rem 1.6rem; border: 1px solid #d1d5db; border-radius: 0.8rem; font-size: 1.4rem; transition: all 0.3s ease; background: #f9fafb; }
.modernInput:focus, .modernTextarea:focus, .modernSelect:focus { outline: none; border-color: #458B00; background: white; box-shadow: 0 0 0 3px rgba(69, 139, 0, 0.1); }
.modernTextarea { resize: vertical; min-height: 10rem; }
.modernSelect { appearance: none; background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e"); background-repeat: no-repeat; background-position: right 1.6rem center; background-size: 1.6rem; padding-right: 4rem; }
.fileInput { display: none; }
.fileInputLabel { display: flex; align-items: center; gap: 1rem; width: 100%; padding: 1.2rem 1.6rem; border: 2px dashed #d1d5db; border-radius: 0.8rem; font-size: 1.4rem; color: #64748b; background-color: #f8fafc; cursor: pointer; transition: all 0.3s ease; }
.fileInputLabel:hover { border-color: #458B00; background-color: #f0fdf4; color: #191970; }
.fileInputLabel span { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; flex-grow: 1; }
.success .fileInputLabel { border-style: solid; border-color: #458B00; }
.error .fileInputLabel { border-style: solid; border-color: #ef4444; }

/* Validação */
.success .modernInput, .success .modernTextarea, .success .modernSelect { border-color: #458B00; }
.error .modernInput, .error .modernTextarea, .error .modernSelect { border-color: #ef4444; }
.sucesso, .erro { position: absolute; right: 1.2rem; top: 50%; transform: translateY(-50%); font-size: 2rem; pointer-events: none; display: none; }
.sucesso { color: #458B00; }
.erro { color: #ef4444; }
.success .sucesso, .error .erro { display: block; }
.small { color: #ef4444; font-size: 1.2rem; margin-top: 0.4rem; display: block; }

/* Ações do Formulário */
.formActions { grid-column: 1 / -1; display: flex; justify-content: flex-end; gap: 1.6rem; padding-top: 2.4rem; margin-top: 1.6rem; border-top: 1px solid #e5e7eb; }
.cancelButton, .submitButton { padding: 1.2rem 2.4rem; border-radius: 0.8rem; font-weight: 600; font-size: 1.4rem; cursor: pointer; transition: all 0.3s ease; border: 1px solid transparent; display: flex; align-items: center; justify-content: center; gap: 0.8rem; }
.cancelButton { background: white; color: #4b5563; border-color: #d1d5db; }
.cancelButton:hover:not(:disabled) { background: #f9fafb; border-color: #9ca3af; }
.submitButton { background: #458B00; color: white; }
.submitButton:hover:not(:disabled) { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(69, 139, 0, 0.3); }
.submitButton:disabled, .cancelButton:disabled { opacity: 0.7; cursor: not-allowed; }
.loadingSpinnerSmall { width: 1.6rem; height: 1.6rem; border: 2px solid rgba(255, 255, 255, 0.3); border-top-color: white; border-radius: 50%; animation: spin 0.8s linear infinite; }
@keyframes spin { to { transform: rotate(360deg); } }

/* Overlay (Consistente) */
.overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.4); z-index: 105; display: none; opacity: 0; }
.sidebar.sidebarOpen ~ .overlay { display: block; opacity: 1; }

/* --- RESPONSIVIDADE --- */
@media (max-width: 64rem) { .formGrid { grid-template-columns: 1fr; } }

@media (max-width: 48rem) {
  .sidebar { position: fixed; left: 0; top: 0; height: 100vh; transform: translateX(-100%); z-index: 110; }
  .sidebar.sidebarOpen { transform: translateX(0); }
  .menuToggle, .sidebarClose { display: block; }

  /* MUDANÇA: Ajuste no padding do conteúdo principal para acomodar a barra fixa */
  .mainContent {
    padding: 1.6rem;
    padding-bottom: 12rem; /* Espaço extra no final para o último campo não ser coberto */
  }

  .form {
    padding: 2.4rem;
    /* O padding-bottom foi movido para o .mainContent */
  }
  
  .formRow { grid-template-columns: 1fr; gap: 2rem; }

  /* CORREÇÃO: Usando position: fixed para garantir que a barra fique visível */
  .formActions {
    /* Desvincula o elemento do fluxo e fixa na janela */
    position: fixed;
    bottom: 0;
    left: 0; /* Alinha à esquerda da tela */
    right: 0; /* Alinha à direita da tela (ocupando a largura total) */
    
    /* Estilos visuais */
    background: white;
    padding: 1.6rem;
    border-top: 1px solid #e5e7eb;
    box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.08);
    z-index: 80; /* Garante que fique acima do conteúdo, mas abaixo do sidebar */

    /* Remove estilos antigos que não são mais necessários com position:fixed */
    margin-top: 0;
    grid-column: unset;

    /* Mantém a organização dos botões */
    display: flex;
    flex-direction: column-reverse;
    gap: 1rem;
  }

  .cancelButton, .submitButton { width: 100%; }
}

@media (max-width: 30rem) {
  .header { flex-direction: column; gap: 1.6rem; align-items: flex-start; padding: 1.6rem; }
  .form { padding: 1.6rem; }

  /* Ajuste no padding da barra para telas muito pequenas */
  .formActions {
      padding: 1.2rem;
  }
}